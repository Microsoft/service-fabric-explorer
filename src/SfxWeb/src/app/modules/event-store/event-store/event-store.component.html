<div class="essen-pane detail-pane">
    <div class="flex-container">
        <div class="flex-container wrap">
            <div ngbDropdown style="margin-right: 10px;">
                <button class="simple-button" ngbDropdownToggle>View Last </button>
                <div ngbDropdownMenu>
                    <button *ngFor="let date of quickDates" ngbDropdownItem
                        (click)="setDate(date)" >
                        {{date.display}}
                    </button>
                </div>
            </div>

            <app-dual-date-picker [minDate]="startDateMin" [maxDate]="startDateMax" (dateChanged)="setNewDates($event)"
                [currentStartDate]="startDate" [currentEndDate]="endDate">
            </app-dual-date-picker>
        </div>
        <div class="slider-wrapper">
                <app-double-slider [startDate]="startDate" [endDate]="endDate" (dateChanged)="setNewDates($event)">
                </app-double-slider>
        </div>
    </div>
    <div>
        <p *ngIf="timeLineEventsData?.potentiallyMissingEvents" style="display: inline-block; margin-left: 10px;">
            <app-health-badge badgeClass="badge-warning"></app-health-badge>
            Potentially missing or misleading events!
        </p>
    </div>

    <div *ngIf="timeLineEventsData">
        <app-event-store-timeline [events]="timeLineEventsData">
            <div buttons>
                <span class="mif-info mif-lg correlated-icon" placement="right"
                    ngbTooltip="Correlated: Only certain high value scenarios are plotted, created from multiple events.&#010;All: Every event listed is plotted."></span>

                <div class="btn-group btn-group-toggle" ngbRadioGroup [(ngModel)]="showAllEvents" name="radioBasic"
                    style="margin-right: 5px; height: 29px;">
                    <label class="flat-button checkbox-push solid-grey" ngbButtonLabel *ngIf="timelineGenerator">
                        <input ngbButton type="radio" [value]="false"> Correlated
                    </label>
                    <label class="flat-button checkbox-push solid-grey" ngbButtonLabel>
                        <input ngbButton type="radio" [value]="true"> All
                    </label>
                </div>

                <span *ngIf="dataService.isAdvancedModeEnabled() && showAllEvents">
                    <app-input placeholder="query string" [model]="transformText" (changed)="transformText = $event;">
                    </app-input>
                    <button class="simple-button" (click)="setTimelineData()">filter</button>
                </span>

            </div>
        </app-event-store-timeline>
    </div>
</div>

<div class="essen-pane">
    <div style="height: 20px;">
        <a class="link" style="float: right;"> Why is data missing?
            <span class="mif-info"
                title="This timeline may present incomplete information and not fully represent the cluster for this date range. Events may also be missing due to data loss and lead to incomplete states. E.g.: A cluster upgrade starting before or ending after this time range will not be shown."></span>
        </a>
    </div>
    <app-detail-list [list]="eventsList.collection" [listSettings]="eventsList.settings"
        [isLoading]="!eventsList.isInitialized"></app-detail-list>

    <div>
        <div style="float: right; padding: 15px 0 0 0; margin: 0px;">
            <span class="dropdown-toggle dark-background-link bowtie-icon bowtie-status-error limit-wrapper"></span>
            <div style="display: inline-block;">
                There is a limit of up to 500 events for a given range.
            </div>
        </div>
    </div>
</div>